{"version":3,"file":"ProcessRequestsView.js","sources":["../src/ProcessRequestsView.ts"],"sourcesContent":["import { msg } from '@lit/localize';\nimport { css, html, LitElement } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport { map } from 'lit/directives/map.js';\nimport { PendingRequestsResponse } from './models/pending-requests-response.js';\nimport { DCIStyles } from './styles.js';\nimport { getPendingDemands } from './utils/data-consumer-api.js';\n\nimport './RequestsListItem.js';\n\n@customElement('process-requests-view')\nexport class ProcessRequestsView extends LitElement {\n  static styles = [\n    DCIStyles,\n    css`\n      #process-req-ctr {\n        display: grid;\n        row-gap: 40px;\n        text-align: center;\n      }\n\n      #requests-list {\n        display: grid;\n        row-gap: 10px;\n      }\n\n      .list-header-ctr {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        text-align: center;\n      }\n\n      .title {\n        font-size: 22px;\n      }\n    `,\n  ];\n\n  constructor() {\n    super();\n    this.reloadRequests();\n  }\n\n  @state() _demands: PendingRequestsResponse[] = [];\n\n  @state() _intervalId: any = undefined;\n\n  reloadRequests() {\n    getPendingDemands().then(response => {\n      this._demands = response;\n    });\n  }\n\n  render() {\n    return html`\n      <div id=\"process-req-ctr\">\n        <span class=\"title\"><b>${msg('PRIVACY REQUESTS TO PROCESS')}</b></span>\n        <div id=\"requests-list\">\n          <div class=\"list-header-ctr\">\n            <span class=\"list-header\"><b>${msg('Submitted')}</b></span>\n            <span class=\"list-header\"><b>${msg('Data Subject')}</b></span>\n            <span class=\"list-header\"><b>${msg('Action(s)')}</b></span>\n          </div>\n          ${map(\n            this._demands,\n            d => html`<requests-list-item .demand=${d}></requests-list-item>`\n          )}\n        </div>\n      </div>\n    `;\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;AAWA,IAAa,mBAAmB,GAAhC,MAAa,mBAAoB,SAAQ,UAAU,CAAA;AA2BjD,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE,CAAC;QAID,IAAQ,CAAA,QAAA,GAA8B,EAAE,CAAC;QAEzC,IAAW,CAAA,WAAA,GAAQ,SAAS,CAAC;QALpC,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;IAMD,cAAc,GAAA;AACZ,QAAA,iBAAiB,EAAE,CAAC,IAAI,CAAC,QAAQ,IAAG;AAClC,YAAA,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AAC3B,SAAC,CAAC,CAAC;KACJ;IAED,MAAM,GAAA;AACJ,QAAA,OAAO,IAAI,CAAA,CAAA;;iCAEkB,GAAG,CAAC,6BAA6B,CAAC,CAAA;;;2CAGxB,GAAG,CAAC,WAAW,CAAC,CAAA;2CAChB,GAAG,CAAC,cAAc,CAAC,CAAA;2CACnB,GAAG,CAAC,WAAW,CAAC,CAAA;;AAE/C,UAAA,EAAA,GAAG,CACH,IAAI,CAAC,QAAQ,EACb,CAAC,IAAI,IAAI,CAAA,CAA+B,4BAAA,EAAA,CAAC,wBAAwB,CAClE,CAAA;;;KAGN,CAAC;KACH;EACF;AA3DQ,mBAAA,CAAA,MAAM,GAAG;IACd,SAAS;AACT,IAAA,GAAG,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;AAqBF,IAAA,CAAA;CACF,CAAC;AAOO,UAAA,CAAA;AAAR,IAAA,KAAK,EAAE;AAA0C,CAAA,EAAA,mBAAA,CAAA,SAAA,EAAA,UAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAEzC,UAAA,CAAA;AAAR,IAAA,KAAK,EAAE;AAA8B,CAAA,EAAA,mBAAA,CAAA,SAAA,EAAA,aAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAlC3B,mBAAmB,GAAA,UAAA,CAAA;IAD/B,aAAa,CAAC,uBAAuB,CAAC;AAC1B,CAAA,EAAA,mBAAmB,CA4D/B;;;;"}