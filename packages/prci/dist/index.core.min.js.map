{"version":3,"file":"index.core.min.js","sources":["../../../node_modules/tslib/tslib.es6.js","../src/models/priv-terms.ts","../src/utils/conf.ts","../src/utils/dictionary.ts","../src/utils/states.ts","../src/ActionItem.ts","../src/DemandBuilderActionMenu.ts","../src/DemandBuilderDropdownElement.ts","../src/DemandBuilderTextElement.ts","../src/demand-forms/TransparencyForm.ts","../src/DemandBuilderSidebarItem.ts","../src/DemandBuilder.ts","../src/RequestProgressIndicator.ts","../src/FrequentRequestsMenu.ts","../src/ResponseView.ts","../src/utils/privacy-request-api.ts","../src/utils/utils.ts","../src/BldnPrivRequest.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","export enum ACTION {\n  'ACCESS' = 'ACCESS',\n  'DELETE' = 'DELETE',\n  'MODIFY' = 'MODIFY',\n  'OBJECT' = 'OBJECT',\n  'PORTABILITY' = 'PORTABILITY',\n  'RESTRICT' = 'RESTRICT',\n  'REVOKE' = 'REVOKE-CONSENT',\n  'TRANSPARENCY' = 'TRANSPARENCY',\n  'TRANSPARENCY.DATA.CATEGORIES' = 'TRANSPARENCY.DATA-CATEGORIES',\n  'TRANSPARENCY.DPO' = 'TRANSPARENCY.DPO',\n  'TRANSPARENCY.KNOWN' = 'TRANSPARENCY.KNOWN',\n  'TRANSPARENCY.LEGAL.BASES' = 'TRANSPARENCY.LEGAL-BASES',\n  'TRANSPARENCY.ORGANIZATION' = 'TRANSPARENCY.ORGANIZATION',\n  'TRANSPARENCY.POLICY' = 'TRANSPARENCY.POLICY',\n  'TRANSPARENCY.PROCESSING.CATEGORIES' = 'TRANSPARENCY.PROCESSING-CATEGORIES',\n  'TRANSPARENCY.PROVENANCE' = 'TRANSPARENCY.PROVENANCE',\n  'TRANSPARENCY.PURPOSE' = 'TRANSPARENCY.PURPOSE',\n  'TRANSPARENCY.RETENTION' = 'TRANSPARENCY.RETENTION',\n  'TRANSPARENCY.WHERE' = 'TRANSPARENCY.WHERE',\n  'TRANSPARENCY.WHO' = 'TRANSPARENCY.WHO',\n  'OTHER.DEMAND' = 'OTHER-DEMAND',\n}\n\nexport enum TRANSPARENCY_ACTION {\n  TRANSPARENCY_DATA_CATEGORIES = 'TRANSPARENCY.DATA-CATEGORIES',\n  TRANSPARENCY_DPO = 'TRANSPARENCY.DPO',\n  TRANSPARENCY_KNOWN = 'TRANSPARENCY.KNOWN',\n  TRANSPARENCY_LEGAL_BASES = 'TRANSPARENCY.LEGAL-BASES',\n  TRANSPARENCY_ORGANIZATION = 'TRANSPARENCY.ORGANIZATION',\n  TRANSPARENCY_POLICY = 'TRANSPARENCY.POLICY',\n  TRANSPARENCY_PROCESSING_CATEGORIES = 'TRANSPARENCY.PROCESSING-CATEGORIES',\n  TRANSPARENCY_PROVENANCE = 'TRANSPARENCY.PROVENANCE',\n  TRANSPARENCY_PURPOSE = 'TRANSPARENCY.PURPOSE',\n  TRANSPARENCY_RETENTION = 'TRANSPARENCY.RETENTION',\n  TRANSPARENCY_WHERE = 'TRANSPARENCY.WHERE',\n  TRANSPARENCY_WHO = 'TRANSPARENCY.WHO',\n}\n","import { ACTION } from '../models/priv-terms.js';\n\nexport const enabledActions = new Map<ACTION, boolean>([\n  [ACTION.ACCESS, false],\n  [ACTION.DELETE, false],\n  [ACTION.MODIFY, false],\n  [ACTION.OBJECT, false],\n  [ACTION.PORTABILITY, false],\n  [ACTION.RESTRICT, false],\n  [ACTION.REVOKE, false],\n  [ACTION.TRANSPARENCY, true],\n  [ACTION['TRANSPARENCY.DATA.CATEGORIES'], false],\n  [ACTION['TRANSPARENCY.DPO'], true],\n  [ACTION['TRANSPARENCY.KNOWN'], false],\n  [ACTION['TRANSPARENCY.LEGAL.BASES'], false],\n  [ACTION['TRANSPARENCY.ORGANIZATION'], true],\n  [ACTION['TRANSPARENCY.POLICY'], true],\n  [ACTION['TRANSPARENCY.PROCESSING.CATEGORIES'], false],\n  [ACTION['TRANSPARENCY.PURPOSE'], false],\n  [ACTION['TRANSPARENCY.PROVENANCE'], false],\n  [ACTION['TRANSPARENCY.RETENTION'], true],\n  [ACTION['TRANSPARENCY.WHERE'], true],\n  [ACTION['TRANSPARENCY.WHO'], true],\n  [ACTION['OTHER.DEMAND'], false],\n]);\n","import { msg } from '@lit/localize';\n\n/**\n * Mapping of PRIV Actions to corresponding titles.\n */\nexport const ACTION_TITLES = {\n  ACCESS: () => msg('ACCESS'),\n  DELETE: () => msg('DELETE'),\n  MODIFY: () => msg('MODIFY'),\n  OBJECT: () => msg('OBJECT'),\n  PORTABILITY: () => msg('PORTABILITY'),\n  RESTRICT: () => msg('RESTRICT'),\n  'REVOKE-CONSENT': () => msg('REVOKE-CONSENT'),\n  TRANSPARENCY: () => msg('TRANSPARENCY'),\n  'TRANSPARENCY.DATA-CATEGORIES': () => msg('TRANSPARENCY.DATA-CATEGORIES'),\n  'TRANSPARENCY.DPO': () => msg('TRANSPARENCY.DPO'),\n  'TRANSPARENCY.KNOWN': () => msg('TRANSPARENCY.KNOWN'),\n  'TRANSPARENCY.LEGAL-BASES': () => msg('TRANSPARENCY.LEGAL-BASES'),\n  'TRANSPARENCY.ORGANIZATION': () => msg('TRANSPARENCY.ORGANIZATION'),\n  'TRANSPARENCY.POLICY': () => msg('TRANSPARENCY.POLICY'),\n  'TRANSPARENCY.PROCESSING-CATEGORIES': () =>\n    msg('TRANSPARENCY.PROCESSING-CATEGORIES'),\n  'TRANSPARENCY.PROVENANCE': () => msg('TRANSPARENCY.PROVENANCE'),\n  'TRANSPARENCY.PURPOSE': () => msg('TRANSPARENCY.PURPOSE'),\n  'TRANSPARENCY.RETENTION': () => msg('TRANSPARENCY.RETENTION'),\n  'TRANSPARENCY.WHERE': () => msg('TRANSPARENCY.WHERE'),\n  'TRANSPARENCY.WHO': () => msg('TRANSPARENCY.WHO'),\n  'OTHER-DEMAND': () => msg('OTHER-DEMAND'),\n};\n\n/**\n * Mapping of PRIV Actions to corresponding descriptions.\n */\nexport const ACTION_DESCRIPTIONS = {\n  ACCESS: () => msg('Access my data'),\n  DELETE: () => msg('Have my data deleted'),\n  MODIFY: () => msg('Modify or complement my data'),\n  OBJECT: () => msg('Object to processing of my data'),\n  PORTABILITY: () => msg('Take my data and have it transfered somewhere else'),\n  RESTRICT: () => msg('Restrict processing of my data to a particular scope'),\n  'REVOKE-CONSENT': () =>\n    msg('Revoke previously given consent for data processing'),\n  TRANSPARENCY: () =>\n    msg(\n      'Demand information related to data processing practices and know if the system has data on me'\n    ),\n  'OTHER-DEMAND': () => msg('Do or know something else'),\n  'TRANSPARENCY.DATA-CATEGORIES': () =>\n    msg('The categories of the data the organization has on me'),\n  'TRANSPARENCY.DPO': () =>\n    msg('The contact details of the data protection officer'),\n  'TRANSPARENCY.KNOWN': () => msg('If the organization has data on me'),\n  'TRANSPARENCY.LEGAL-BASES': () =>\n    msg(\n      'The legal bases for processing my data (including legitimate interests)'\n    ),\n  'TRANSPARENCY.ORGANIZATION': () =>\n    msg(\n      'The identity and contact details of the organization processing my data'\n    ),\n  'TRANSPARENCY.POLICY': () =>\n    msg('The policies applied to processing of data concerning me'),\n  'TRANSPARENCY.PROCESSING-CATEGORIES': () =>\n    msg(\n      'The cateogories of processing being done on the data the organization has on me'\n    ),\n  'TRANSPARENCY.PROVENANCE': () =>\n    msg('The sources that the data concerning me come from'),\n  'TRANSPARENCY.PURPOSE': () =>\n    msg('The purpose of the processing o the data the organization has on me'),\n  'TRANSPARENCY.RETENTION': () =>\n    msg('For how long the data concerning me kept'),\n  'TRANSPARENCY.WHERE': () => msg('Where the data about me is stored'),\n  'TRANSPARENCY.WHO': () =>\n    msg('Who can access the data that the organization has on me'),\n};\n","/**\n * States for BldnPrivRequest\n */\nexport enum RequestState {\n  BUILD,\n  REVIEW,\n  SENT,\n}\n\n/**\n * States for DemandBuilder + ActionForms\n */\nexport enum DemandState {\n  SELECT_ACTION,\n  EDIT,\n  REVIEW,\n}\n","import { localized } from '@lit/localize';\nimport { html, css, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\n@customElement('action-item')\n/**\n * Button element representing a single demand action. Used in the action menu.\n */\n@localized()\nexport class ActionItem extends LitElement {\n  // Name of the action, displayed in bold\n  @property({ type: String, attribute: 'action-name' }) actionName = '';\n\n  // Description of the action, displayed after the actionName\n  @property({ type: String, attribute: 'action-description' })\n  actionDescription = '';\n\n  // Boolean mapping to the disabled attribute of the HTMLButtonElement\n  @property({ type: Boolean }) disabled: boolean = false;\n\n  static styles = css`\n    :host button {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n        Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n      /* font-size: 16px; */\n      font-size: 1rem;\n    }\n\n    .action-button:not([disabled]):hover {\n      border: 2px solid #18a0fb;\n      overflow: visible;\n    }\n\n    .action-button {\n      border-radius: 15px;\n      background-color: #fafafa;\n      padding: 10px 40px;\n      height: 120px;\n      /* max-height: 120px; */\n      width: 100%;\n      max-width: 400px;\n      text-align: left;\n      transition: 0.5s;\n      -webkit-transition: 0.5s;\n\n      overflow: hidden;\n      /* white-space: nowrap; */\n      /* display: block; */\n      text-overflow: ellipsis;\n    }\n\n    .btn-txt {\n      /* text-overflow: ellipsis; */\n      overflow: hidden;\n    }\n\n    .bolder {\n      font-weight: 700;\n    }\n  `;\n\n  handleClick() {\n    const event = new CustomEvent('demand-action-menu-click', {\n      bubbles: true,\n      composed: true,\n      detail: {\n        actionName: this.actionName,\n      },\n    });\n    this.dispatchEvent(event);\n  }\n\n  render() {\n    return html`\n      <button\n        class=\"action-button draw-border\"\n        @click=\"${this.handleClick}\"\n        ?disabled=${this.disabled}\n      >\n        <strong>${this.actionName}:</strong> ${this.actionDescription}\n      </button>\n    `;\n  }\n}\n","import { html, css, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { localized } from '@lit/localize';\nimport { ACTION_TITLES, ACTION_DESCRIPTIONS } from './utils/dictionary.js';\n\nimport './ActionItem.js';\nimport { ACTION } from './models/priv-terms.js';\nimport { enabledActions } from './utils/conf.js';\n\n/**\n * Menu of clickable action types\n */\n@localized()\n@customElement('demand-builder-action-menu')\nexport class DemandBuilerActionMenu extends LitElement {\n  // Text displayed above menu\n  @property({ type: String }) prompt = 'Type of demand I want to submit:';\n\n  // Actions to be displayed in the menu, each corresponding to an ActionItem.\n  @property({ attribute: false }) includedActions: ACTION[] = [];\n\n  static styles = css`\n    :host {\n      grid-column: 1/5;\n    }\n\n    .actions-container {\n      display: grid;\n      grid-template-columns: repeat(3, 1fr);\n      gap: 50px;\n      padding: 30px 40px 10px 40px;\n    }\n\n    .prompt-heading {\n      font-size: 18px;\n      text-align: left;\n      padding: 0px 0px 0px 10px;\n    }\n  `;\n\n  render() {\n    return html`\n      <div class=\"prompt-heading\">${this.prompt}</div>\n      <div class=\"actions-container\">\n        ${this.includedActions.map(\n          a =>\n            html`<action-item\n              action-name=${ACTION_TITLES[a]()}\n              action-description=${ACTION_DESCRIPTIONS[a]()}\n              ?disabled=${!enabledActions.get(a)}\n            ></action-item>`\n        )}\n      </div>\n    `;\n  }\n}\n","import { html, css, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\n/**\n * Collapsable element displaying a prompt and list of choices, each with a checkbox.\n */\n@customElement('demand-builder-dropdown-element')\nexport class DemandBuilderDropdownElement extends LitElement {\n  // String displayed at the top of the element, in both open and closed state\n  @property({ type: String }) prompt = 'I want to know:';\n\n  // List of choices to be displayed with a unique identifier, description string (displayed),\n  // and checked boolean indicating if the option should be checked initially\n  @property({ type: Array }) choices: {\n    id: string;\n    description: string;\n    checked: boolean;\n    disabled: boolean;\n  }[] = [];\n\n  // Boolean indicating if the choices should be displayed initially\n  @property({ type: Boolean, reflect: true }) open: boolean = true;\n\n  private _selectedChoices = new Set<string>();\n\n  static styles = css`\n    :host {\n      display: grid;\n      grid-template-columns: repeat(8, 1fr);\n      border: 2px solid #000;\n      border-radius: 10px;\n      padding: 20px 40px 20px 40px;\n    }\n\n    :host([open]) {\n      padding: 20px 40px 40px 40px;\n    }\n\n    :host([open]) #choices-list {\n      display: grid;\n    }\n\n    :host([open]) #drpdwn-collapse-btn {\n      background: url('/src/assets/icons/close_container_arrow.svg');\n    }\n\n    #prompt {\n      display: flex;\n      grid-column: 1/8;\n      align-items: center;\n    }\n\n    #drpdwn-collapse-btn {\n      grid-column: 8/9;\n      height: 24px;\n      background: url('/src/assets/icons/open_container_arrow.svg');\n      width: 24px;\n      border: none;\n      justify-self: right;\n    }\n\n    #choices-list {\n      display: none;\n      overflow: hidden;\n      grid-column: 1/9;\n      grid-template-columns: 1fr;\n      row-gap: 35px;\n      padding: 25px 0px 0px 0px;\n    }\n\n    #choice-ctr {\n      padding: 0px 30px;\n    }\n\n    p {\n      margin: 0px;\n    }\n  `;\n\n  handleCheckboxClick(e: Event) {\n    const { id, checked } = e.target as HTMLInputElement;\n    if (checked) {\n      this._selectedChoices.add(id);\n      // Fire add event\n      const event = new CustomEvent('dropdown-element-add', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          id,\n          'first-selection': this._selectedChoices.size === 1,\n        },\n      });\n      this.dispatchEvent(event);\n    } else {\n      this._selectedChoices.delete(id);\n      // Fire delete event\n      const event = new CustomEvent('dropdown-element-delete', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          id,\n          'none-selected': this._selectedChoices.size === 0,\n        },\n      });\n      this.dispatchEvent(event);\n    }\n  }\n\n  render() {\n    return html`\n      <p id=\"prompt\">${this.prompt}</p>\n      <button\n        id=\"drpdwn-collapse-btn\"\n        @click=${() => {\n          this.open = !this.open;\n        }}\n      ></button>\n      <div id=\"choices-list\">\n        ${this.choices.map(\n          c => html`\n            <div id=\"choice-ctr\">\n              <input\n                id=${c.id}\n                type=\"checkbox\"\n                @click=${this.handleCheckboxClick}\n                ?checked=${c.checked}\n                ?disabled=${c.disabled}\n              />\n              <label>${c.description}</label>\n            </div>\n          `\n        )}\n      </div>\n    `;\n  }\n}\n","import { html, css, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\n/**\n * Collapsable element displaying a prompt and text input field.\n */\n@customElement('demand-builder-text-element')\nexport class DemandBuilderTextElement extends LitElement {\n  @property({ type: String }) prompt = 'Additional Message (optional)';\n\n  @property({ type: Boolean, reflect: true }) open = false;\n\n  static styles = css`\n    :host {\n      display: grid;\n      grid-template-columns: 7fr 1fr;\n      border: 2px solid #000;\n      border-radius: 10px;\n      padding: 20px 40px 20px 40px;\n    }\n\n    :host([open]) #text-input {\n      display: grid;\n    }\n\n    #element-prompt {\n      display: flex;\n      align-items: center;\n    }\n\n    #text-element-write-button {\n      height: 30px;\n      background: url('/src/assets/icons/edit_fill.svg');\n      height: 24px;\n      width: 24px;\n      border: none;\n      justify-self: right;\n    }\n\n    #text-input {\n      display: none;\n      overflow: hidden;\n      grid-column: 1/3;\n      margin: 25px 0px 0px 0px;\n    }\n\n    p {\n      margin: 0px;\n    }\n  `;\n\n  handleInput(e: Event) {\n    const event = new CustomEvent('text-element-change', {\n      bubbles: true,\n      composed: true,\n      detail: {\n        text: (e.target as HTMLTextAreaElement).value,\n      },\n    });\n    this.dispatchEvent(event);\n  }\n\n  render() {\n    return html`\n      <p id=\"element-prompt\">${this.prompt}</p>\n      <button\n        id=\"text-element-write-button\"\n        @click=${() => {\n          this.open = !this.open;\n        }}\n      ></button>\n      <textarea\n        id=\"text-input\"\n        name=\"paragraph_text\"\n        cols=\"50\"\n        rows=\"5\"\n        @input=${this.handleInput}\n      ></textarea>\n    `;\n  }\n}\n","import { html, css, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { choose } from 'lit/directives/choose.js';\nimport { msg } from '@lit/localize';\n\nimport '../DemandBuilderDropdownElement.js';\nimport '../DemandBuilderTextElement.js';\nimport { ACTION } from '../models/priv-terms.js';\nimport { Demand } from '../models/demand.js';\nimport { ACTION_DESCRIPTIONS } from '../utils/dictionary.js';\nimport { DemandState } from '../utils/states.js';\nimport { enabledActions } from '../utils/conf.js';\n\n/**\n * ActionForm for the Transparency PRIV action. Includes a dropdown and text element.\n *\n * The transparency form follows a different pattern than the other actions, as each\n * TRANSPARENCY.* actually represents a completely separate demand, but we display them\n * all in one DemandBuilder element.\n */\n@customElement('transparency-form')\nexport class TransparencyForm extends LitElement {\n  @property({ type: Number, attribute: 'demand-state' })\n  demandState: DemandState = DemandState.EDIT;\n\n  @property({ type: Array, attribute: false })\n  transparencyActions: ACTION[] = [];\n\n  @property({ attribute: false }) demands = new Map<string, Demand>();\n\n  @property({ attribute: false }) demandBuilderId: string = '';\n\n  private _extraMessage = undefined;\n\n  constructor() {\n    super();\n\n    this.addEventListener('dropdown-element-add', e => {\n      const details = (e as CustomEvent).detail;\n      const demandId = crypto.randomUUID();\n      const demand: Demand = {\n        action: details.id,\n        message: this._extraMessage,\n      };\n      this.demands.set(demandId, demand);\n\n      // Fire event to set a single demand\n      const setEvent = new CustomEvent('demand-set', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          demandId,\n          demand,\n        },\n      });\n      this.dispatchEvent(setEvent);\n\n      // Fire event indicating the demand builder is in a valid state once one choice is selected\n      if (details['first-selection']) {\n        const dmdValidEvent = new CustomEvent('demand-validated', {\n          bubbles: true,\n          composed: true,\n          detail: {\n            demandBuilderId: this.demandBuilderId,\n          },\n        });\n        this.dispatchEvent(dmdValidEvent);\n      }\n    });\n\n    this.addEventListener('dropdown-element-delete', e => {\n      const details = (e as CustomEvent).detail;\n      // Delete demands for the unchecked action\n      Array.from(this.demands)\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        .filter(([_, d]) => d.action === details.id)\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        .forEach(([id, _]) => {\n          this.demands.delete(id);\n          // Fire event to delete a single demand\n          const event = new CustomEvent('demand-delete', {\n            bubbles: true,\n            composed: true,\n            detail: {\n              id,\n            },\n          });\n          this.dispatchEvent(event);\n        });\n\n      // Fire event indicating the demand builder for this form is in an invalid state\n      if (details['none-selected']) {\n        const event = new CustomEvent('demand-invalidated', {\n          bubbles: true,\n          composed: true,\n          detail: {\n            demandBuilderId: this.demandBuilderId,\n          },\n        });\n        this.dispatchEvent(event);\n      }\n    });\n\n    this.addEventListener('text-element-change', e => {\n      this._extraMessage = (e as CustomEvent).detail?.text;\n      // Update existing demands\n      this.demands.forEach(d => {\n        const demand = d;\n        demand.message = this._extraMessage;\n      });\n\n      // Fire event to set multiple demands\n      const event = new CustomEvent('demand-set-multiple', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          demands: this.demands,\n        },\n      });\n      this.dispatchEvent(event);\n    });\n  }\n\n  static styles = css`\n    :host {\n      display: grid;\n      row-gap: 35px;\n      grid-column: 2/5;\n      align-content: flex-start;\n      border: 2px solid #000;\n      border-radius: 20px;\n      padding: 40px 60px 40px 60px;\n      margin: 0px;\n    }\n\n    :host([demand-state='2']) {\n      padding: 30px;\n      grid-column: 1/5;\n    }\n\n    #dmd-ctr {\n      display: grid;\n      row-gap: 20px;\n    }\n\n    #dmd-ctr ul {\n      margin: 0;\n    }\n\n    #dmd-ctr li:not(:last-child) {\n      margin-bottom: 15px;\n    }\n\n    #edit-heading-1 {\n      font-weight: bold;\n      grid-column: 1/2;\n      padding: 0px 0px 0px 10px;\n    }\n\n    #review-heading-1 {\n      font-weight: bold;\n      /* padding: 0px; */\n    }\n\n    #extra-msg-txt {\n      padding: 0px 0px 0px 20px;\n    }\n\n    p {\n      margin: 0px;\n    }\n  `;\n\n  /**\n   * Get the edit display for a transparency demand\n   * @returns HTML template for edit display\n   */\n  getEditTemplate() {\n    const selectedActions = Object.values(this.demands).map(d => d.action);\n    return html`\n      <p id=\"edit-heading-1\">\n        <b>${msg('Details of my TRANSPARENCY Demand')}</b>\n      </p>\n      <demand-builder-dropdown-element\n        .choices=${this.transparencyActions.map(a => ({\n          id: a,\n          description: ACTION_DESCRIPTIONS[a](),\n          checked: selectedActions.includes(a),\n          disabled: !enabledActions.get(a) ?? true,\n        }))}\n      ></demand-builder-dropdown-element>\n      <demand-builder-text-element></demand-builder-text-element>\n    `;\n  }\n\n  /**\n   * Get the review display for a transparency demand\n   * @returns HTML template for review display\n   */\n  getReviewTemplate() {\n    return html`\n      <div id=\"dmd-ctr\">\n        <p id=\"review-hd-1\"><b>${msg('TRANSPARENCY demand')}</b></p>\n        <p>${msg('I want to know:')}</p>\n        <ul id=\"transparency-demand-review-list\">\n          ${Array.from(this.demands.values()).map(\n            (a: Demand) =>\n              html` <li><b>${ACTION_DESCRIPTIONS[a.action]()}</b></li> `\n          )}\n        </ul>\n        ${this._extraMessage\n          ? html`\n              <p>${msg('Plus additional info:')}</p>\n              <p id=\"extra-msg-txt\"><i>${this._extraMessage}</i></p>\n            `\n          : null}\n      </div>\n    `;\n  }\n\n  render() {\n    return html`\n      ${choose(this.demandState, [\n        [DemandState.EDIT, () => this.getEditTemplate()],\n        [DemandState.REVIEW, () => this.getReviewTemplate()],\n      ])}\n    `;\n  }\n}\n","import { html, css, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { ACTION } from './models/priv-terms.js';\n\n/**\n * A single item on the DemandBuilder sidebar.\n */\n@customElement('demand-builder-sidebar-item')\nexport class DemandBuilderSidebarItem extends LitElement {\n  // Checked attribute mapping to the checked attribute of the HTMLInputElement\n  // for this sidebar item\n  @property({ type: Boolean }) checked: boolean = false;\n\n  // Disabled attribute mapping to the disabled attribute of the HTMLButtonElement and\n  // HTMLInputElement for this sidebar item\n  @property({ type: Boolean }) disabled: boolean = false;\n\n  // Unique identifier for this sidebar item\n  @property({}) id: ACTION = ACTION.ACCESS;\n\n  // Title string for this sidebar item\n  @property({ type: String }) title: string = '';\n\n  // Description string for this sidebar item\n  @property({ type: String }) description: string = '';\n\n  static styles = css`\n    :host {\n      min-height: 100px;\n    }\n\n    :host button {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n        Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n      font-size: 16px;\n      background-color: white;\n    }\n\n    :host([checked]) .sidebar-btn {\n      border: 2px solid #000;\n      border-top-left-radius: 20px;\n      border-bottom-left-radius: 20px;\n      border-right: 2px solid white;\n    }\n\n    :host([checked]) {\n      z-index: 1;\n      margin-right: -2px;\n    }\n\n    .sidebar-btn {\n      display: grid;\n      align-items: center;\n      grid-template-columns: 1fr 4fr;\n      height: 100%;\n      width: 100%;\n      border: none;\n      /* background-color: #fafafa; */\n      text-align: left;\n    }\n\n    .sidebar-txt {\n      padding: 0px 10px 0px 0px;\n    }\n  `;\n\n  handleClick() {\n    const event = new CustomEvent('sidebar-click', {\n      bubbles: true,\n      composed: true,\n      detail: {\n        id: this.id,\n      },\n    });\n    this.dispatchEvent(event);\n  }\n\n  render() {\n    return html`\n      <button class=\"sidebar-btn\" ?disabled=${this.disabled} @click=${this.handleClick}>\n        <input type=\"radio\" ?disabled=${this.disabled} ?checked=${this.checked}></input>\n        <span class=\"sidebar-txt\"><b>${this.title}:</b> ${this.description}</span>\n      </button>\n    `;\n  }\n}\n","/* eslint-disable */\nimport { html, css, LitElement, PropertyValueMap } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { choose } from 'lit/directives/choose.js';\nimport { localized, msg, str } from '@lit/localize';\n\nimport { ACTION } from './models/priv-terms.js';\nimport { enabledActions } from './utils/conf.js';\nimport { Demand } from './models/demand.js';\nimport { ACTION_TITLES, ACTION_DESCRIPTIONS } from './utils/dictionary.js';\nimport { DemandState } from './utils/states.js';\nimport './DemandBuilderActionMenu.js';\nimport './DemandBuilderDropdownElement.js';\nimport './DemandBuilderTextElement.js';\nimport './demand-forms/TransparencyForm.js';\nimport './DemandBuilderSidebarItem.js';\nimport { when } from 'lit/directives/when.js';\n\n/**\n * Handles creation and review of a single demand. Uses one of the ActionForm\n * components to display different options for each action type.\n */\n@customElement('demand-builder')\n@localized()\nexport class DemandBuilder extends LitElement {\n  @property({ type: Array }) includedActions: ACTION[] = [];\n\n  @property({ type: Number, attribute: 'demand-state' })\n  demandState: DemandState = DemandState.SELECT_ACTION;\n\n  @property({ attribute: false }) demands = new Map<string, Demand>();\n\n  @state() _selectedAction = ACTION.TRANSPARENCY;\n\n  @state() _sidebarSelectedIndex = 0;\n\n  constructor() {\n    super();\n\n    // Demand update listeners\n    this.addEventListener('demand-set', e => {\n      const { demandId, demand } = (e as CustomEvent).detail;\n      this.demands.set(demandId, demand);\n    });\n    this.addEventListener('demand-delete', e => {\n      const { id } = (e as CustomEvent).detail;\n      this.demands.delete(id);\n    });\n    this.addEventListener('demand-set-multiple', e => {\n      ((e as CustomEvent).detail.demands as Map<string, Demand>).forEach(\n        (demand, id) => this.demands.set(id, demand)\n      );\n    });\n\n    // UI element listeners\n    this.addEventListener('demand-action-menu-click', () => {\n      this._selectedAction = ACTION.TRANSPARENCY;\n      this.demandState = DemandState.EDIT;\n    });\n    this.addEventListener('sidebar-click', e => {\n      this._sidebarSelectedIndex = this.includedActions.indexOf(\n        (e as CustomEvent).detail.id\n      );\n    });\n  }\n\n  static styles = css`\n    :host {\n      display: grid;\n      grid-row: 2/3;\n      grid-column: 1/2;\n      grid-template-columns: repeat(4, 1fr);\n    }\n\n    .demand-builder-back-btn {\n      grid-column-start: 1/2;\n    }\n\n    #sidebar {\n      display: grid;\n      height: fit-content;\n    }\n\n    p {\n      padding: 0px;\n      margin: 0px;\n    }\n  `;\n\n  /**\n   * Get a HTML template for the demand builder sidebar, with each PRIV action\n   * included in this DemandBuilder as an option.\n   * @returns HTML template for sidebar display\n   */\n  getSidebarTemplate() {\n    return html`\n      <div id=\"sidebar\">\n        <p id=\"sidebar-title\">${msg('Type of demand:')}</p>\n        ${this.includedActions.map(\n          (a, i) => html`\n            <demand-builder-sidebar-item\n              id=${a}\n              title=${ACTION_TITLES[a]()}\n              description=${ACTION_DESCRIPTIONS[a]()}\n              ?disabled=${!enabledActions.get(a)}\n              ?checked=${i === this._sidebarSelectedIndex}\n            ></demand-builder-sidebar-item>\n          `\n        )}\n      </div>\n    `;\n  }\n\n  /**\n   * Get an HTML template for the form corresponding to the selected action type.\n   * @returns HTML template for action form\n   */\n  getSelectedFormTemplate() {\n    return html`\n      ${choose(this._selectedAction, [\n        [\n          ACTION.TRANSPARENCY,\n          () => html`<transparency-form\n            demand-state=${this.demandState}\n            .demandBuilderId=${this.id}\n            .transparencyActions=${Object.values(ACTION).filter(a =>\n              a.includes('TRANSPARENCY.')\n            )}\n            .demands=${this.demands}\n          ></transparency-form>`,\n        ],\n      ])}\n    `;\n  }\n\n  /**\n   * Hook into update to fire an event letting the top level component know the user\n   * has navigated past the action menu screen.\n   * @param changedProperties Map of changed values to their previous value\n   */\n  update(changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>) {\n    super.update(changedProperties);\n\n    if (\n      changedProperties.has('demandState') &&\n      changedProperties.get('demandState') === DemandState.SELECT_ACTION\n    ) {\n      this.dispatchEvent(\n        new Event('menu-done', { bubbles: true, composed: true })\n      );\n    }\n  }\n\n  /**\n   * Hook into firstUpdated to include an initial calculation of the sidebar index\n   * @param _changedProperties\n   */\n  protected firstUpdated(\n    _changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>\n  ): void {\n    super.firstUpdated(_changedProperties);\n    this._sidebarSelectedIndex = this.includedActions.indexOf(\n      this._selectedAction\n    );\n  }\n\n  render() {\n    if (this.demandState === DemandState.SELECT_ACTION) {\n      return html`<demand-builder-action-menu\n        .includedActions=${this.includedActions}\n      ></demand-builder-action-menu>`;\n    } else {\n      return html`\n        <!-- Include sidebar in edit mode -->\n        ${when(this.demandState === DemandState.EDIT, () =>\n          this.getSidebarTemplate()\n        )}\n        <!-- Display selected form -->\n        ${this.getSelectedFormTemplate()}\n      `;\n    }\n  }\n}\n","import { html, css, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\n\n/**\n * WIP - Animated progress indicator for a Privacy Request.\n */\n@customElement('request-progress-indicator')\nexport class RequestProgressIndicator extends LitElement {\n  static styles = css``;\n\n  render() {\n    return html``;\n  }\n}\n","import { html, css, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\n\n/**\n * WIP - Display a list of \"bread and butter\" requests relevant\n * to the user of the component.\n */\n@customElement('frequent-requests-menu')\nexport class FrequentRequestsMenu extends LitElement {\n  static styles = css``;\n\n  render() {\n    return html``;\n  }\n}\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { msg, str } from '@lit/localize';\nimport { html, css, LitElement, TemplateResult } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { choose } from 'lit/directives/choose.js';\nimport { map } from 'lit/directives/map.js';\nimport { ACTION } from './models/priv-terms.js';\nimport { DemandResponse, PrivacyResponse } from './models/privacy-response.js';\nimport { ACTION_DESCRIPTIONS } from './utils/dictionary.js';\n\n/**\n * View the response to a privacy request.\n */\n@customElement('response-view')\nexport class ResponseView extends LitElement {\n  @property({ attribute: false }) response: PrivacyResponse = {\n    response_id: '',\n    request_id: '',\n    date: '',\n    demands: [\n      {\n        demand_id: '',\n        date: '',\n        requested_action: ACTION.TRANSPARENCY,\n      },\n    ],\n  };\n\n  static styles = css`\n    :host {\n      border: 2px solid #000;\n      border-radius: 20px;\n      padding: 35px 75px;\n    }\n\n    :host h1 {\n      padding: 0px;\n      margin: 0px;\n      font-size: 24px;\n      text-align: center;\n    }\n\n    #responses-ctr {\n      display: grid;\n      row-gap: 40px;\n      padding: 50px 0px 0px 0px;\n    }\n\n    .transparency-rsp-ctr {\n      display: grid;\n      row-gap: 10px;\n    }\n  `;\n\n  accessTemplate(demand: DemandResponse): TemplateResult {\n    return html``;\n  }\n\n  deleteTemplate(demand: DemandResponse): TemplateResult {\n    return html``;\n  }\n\n  modifyTemplate(demand: DemandResponse): TemplateResult {\n    return html``;\n  }\n\n  objectTemplate(demand: DemandResponse): TemplateResult {\n    return html``;\n  }\n\n  revokeTemplate(demand: DemandResponse): TemplateResult {\n    return html``;\n  }\n\n  restrictTemplate(demand: DemandResponse): TemplateResult {\n    return html``;\n  }\n\n  portabilityTemplate(demand: DemandResponse): TemplateResult {\n    return html``;\n  }\n\n  transparencyStandardTemplate(demand: DemandResponse) {\n    return html`\n      <div class=\"transparency-rsp-ctr\">\n        <li>\n          <b>${ACTION_DESCRIPTIONS[demand.requested_action]()}</b> -\n          ${demand.status}\n        </li>\n        ${JSON.stringify(demand.answer)}\n      </div>\n    `;\n  }\n\n  transparencyAllTemplate(demand: DemandResponse): TemplateResult {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  transparencyDataCatTemplate(demand: DemandResponse): TemplateResult {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  transparencyDpoTemplate(demand: DemandResponse) {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  transparencyKnownTemplate(demand: DemandResponse): TemplateResult {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  transparencyLegalTemplate(demand: DemandResponse): TemplateResult {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  transparencyOrgTemplate(demand: DemandResponse): TemplateResult {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  transparencyPolicyTemplate(demand: DemandResponse): TemplateResult {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  transparencyProcessTemplate(demand: DemandResponse): TemplateResult {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  transparencyProvTemplate(demand: DemandResponse): TemplateResult {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  transparencyPurposeTemplate(demand: DemandResponse): TemplateResult {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  transparencyRetentionTemplate(demand: DemandResponse): TemplateResult {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  transparencyWhoTemplate(demand: DemandResponse): TemplateResult {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  transparencyWhereTemplate(demand: DemandResponse): TemplateResult {\n    return this.transparencyStandardTemplate(demand);\n  }\n\n  otherDemandTemplate(demand: DemandResponse): TemplateResult {\n    return html``;\n  }\n\n  render() {\n    return html`\n      <h1>Requested Information</h1>\n      <div id=\"responses-ctr\">\n        ${map(this.response.demands, d =>\n          choose(\n            d.requested_action,\n            [\n              [ACTION.ACCESS, () => this.accessTemplate(d)],\n              [ACTION.DELETE, () => this.deleteTemplate(d)],\n              [ACTION.MODIFY, () => this.modifyTemplate(d)],\n              [ACTION.OBJECT, () => this.objectTemplate(d)],\n              [ACTION.REVOKE, () => this.revokeTemplate(d)],\n              [ACTION.RESTRICT, () => this.restrictTemplate(d)],\n              [ACTION.PORTABILITY, () => this.portabilityTemplate(d)],\n              [ACTION.TRANSPARENCY, () => this.transparencyAllTemplate(d)],\n              [\n                ACTION['TRANSPARENCY.DATA.CATEGORIES'],\n                () => this.transparencyDataCatTemplate(d),\n              ],\n              [\n                ACTION['TRANSPARENCY.DPO'],\n                () => this.transparencyDpoTemplate(d),\n              ],\n              [\n                ACTION['TRANSPARENCY.KNOWN'],\n                () => this.transparencyKnownTemplate(d),\n              ],\n              [\n                ACTION['TRANSPARENCY.LEGAL.BASES'],\n                () => this.transparencyLegalTemplate(d),\n              ],\n              [\n                ACTION['TRANSPARENCY.ORGANIZATION'],\n                () => this.transparencyOrgTemplate(d),\n              ],\n              [\n                ACTION['TRANSPARENCY.POLICY'],\n                () => this.transparencyPolicyTemplate(d),\n              ],\n              [\n                ACTION['TRANSPARENCY.PROCESSING.CATEGORIES'],\n                () => this.transparencyProcessTemplate(d),\n              ],\n              [\n                ACTION['TRANSPARENCY.PROVENANCE'],\n                () => this.transparencyProvTemplate(d),\n              ],\n              [\n                ACTION['TRANSPARENCY.PURPOSE'],\n                () => this.transparencyPurposeTemplate(d),\n              ],\n              [\n                ACTION['TRANSPARENCY.RETENTION'],\n                () => this.transparencyRetentionTemplate(d),\n              ],\n              [\n                ACTION['TRANSPARENCY.WHERE'],\n                () => this.transparencyWhereTemplate(d),\n              ],\n              [\n                ACTION['TRANSPARENCY.WHO'],\n                () => this.transparencyWhoTemplate(d),\n              ],\n              [ACTION['OTHER.DEMAND'], () => this.otherDemandTemplate(d)],\n            ],\n            () => html`${msg('ERROR: Invalid Action')}`\n          )\n        )}\n      </div>\n    `;\n  }\n}\n","import { PrivacyRequest } from '../models/privacy-request.js';\nimport { PrivacyResponse } from '../models/privacy-response.js';\n\n/**\n * Determine the correct mock header for a PrivacyRequest\n * @param request PrivacyRequest to get mock header for\n * @returns String to be used in the \"prefer\" header\n */\nfunction getMockHeader(request: PrivacyRequest): string {\n  // If more than 1 demand, send the default multi demand response\n  if (request.demands.length > 1) {\n    return 'code=200, example=TRANSPARENCY Multi-Response';\n  }\n\n  // Select the mock response corresponding to this action\n  if (request.demands.length === 1) {\n    const { action } = request.demands[0];\n    return `code=200, example=${action} Response`;\n  }\n\n  // If no demands get bad request response\n  return 'code=400';\n}\n\n/**\n * Send a PrivacyRequest to the privacy-request API\n * @param {PrivacyRequest} request Request body to send\n * @param {boolean} mock Flag indicating if the mock endpoint should be used\n * @returns\n */\nexport async function sendPrivacyRequest(\n  request: PrivacyRequest,\n  mock: boolean = true\n): Promise<PrivacyResponse> {\n  const url = mock\n    ? 'https://stoplight.io/mocks/blindnet/product-management:open-api/74767654/privacy-request'\n    : 'https://devkit-pce-staging.azurewebsites.net/v0/privacy-request';\n  const headers: any = mock\n    ? {\n        'Content-Type': 'application/json',\n        Prefer: getMockHeader(request),\n      }\n    : {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*',\n      };\n\n  return fetch(url, {\n    method: 'POST',\n    headers,\n    body: JSON.stringify(request),\n  }).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json() as Promise<PrivacyResponse>;\n  });\n}\n","import { ACTION } from '../models/priv-terms.js';\n\nexport function getDefaultActions() {\n  return Object.values(ACTION).filter(a => !a.includes('TRANSPARENCY.'));\n}\n","/* eslint-disable no-param-reassign */\nimport { html, css, LitElement, PropertyValueMap } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { when } from 'lit/directives/when.js';\nimport { map } from 'lit/directives/map.js';\nimport { choose } from 'lit/directives/choose.js';\nimport { localized, msg } from '@lit/localize';\n\nimport './DemandBuilder.js';\nimport './RequestProgressIndicator.js';\nimport './FrequentRequestsMenu.js';\nimport './ResponseView.js';\nimport { ACTION } from './models/priv-terms.js';\nimport { PrivacyRequest } from './models/privacy-request.js';\nimport { sendPrivacyRequest } from './utils/privacy-request-api.js';\nimport { PrivacyResponse } from './models/privacy-response.js';\nimport { RequestState, DemandState } from './utils/states.js';\nimport { Demand } from './models/demand.js';\nimport { getDefaultActions } from './utils/utils.js';\n\n/**\n * Top level component encapsulating a single PrivacyRequest. Contains one or\n * more DemandBuilder elements, each for a single demand action type.\n */\n@customElement('bldn-priv-request')\n@localized()\nexport class BldnPrivRequest extends LitElement {\n  // JSON string of actions to display\n  @property({ type: String, attribute: 'actions' }) actions = '';\n\n  // Array of actions, given by actions attribute if a valid list was passed, otherwise includes the 9 defaults\n  @state() _includedActions: ACTION[] = getDefaultActions();\n\n  // State of the whole privacy request\n  @state() _requestState: RequestState = RequestState.BUILD;\n\n  // Privacy request object, empty until some demands are added\n  @state() _privacyRequest: PrivacyRequest = {\n    demands: [],\n    data_subject: [\n      {\n        // FIXME: For now we hardcode this, but will come from token once auth added\n        id: '4f04dbb4-d77d-49df-ae57-52aae9d6f3b5',\n        schema: 'dsid',\n      },\n    ],\n  };\n\n  // Map of ids to their specific demands\n  @state() _demands: Map<string, Demand> = new Map<string, Demand>();\n\n  // Map of ids to demand builder UI components\n  @state() _demandBuilders: Map<string, boolean> = new Map<string, boolean>([\n    [crypto.randomUUID(), false],\n  ]);\n\n  // Boolean indicating if review/complete buttons should be displayed\n  @state() _showButtons: boolean = false;\n\n  // Bolean indicating if review/complete buttons should be clickable\n  @state() _buttonsClickable: boolean = false;\n\n  // Response to our request\n  @state() _privacyResponse: PrivacyResponse = {\n    response_id: '',\n    request_id: '',\n    date: '',\n    demands: [],\n  };\n\n  constructor() {\n    super();\n\n    // Demand update listeners\n    this.addEventListener('demand-set', e => {\n      const { demandId, demand } = (e as CustomEvent).detail;\n      this._demands.set(demandId, demand);\n    });\n    this.addEventListener('demand-delete', e => {\n      const { id } = (e as CustomEvent).detail;\n      this._demands.delete(id);\n    });\n    this.addEventListener('demand-set-multiple', e => {\n      ((e as CustomEvent).detail.demands as Map<string, Demand>).forEach(\n        (demand, id) => this._demands.set(id, demand)\n      );\n    });\n\n    // Event indicating a demand builder has a valid action form\n    this.addEventListener('demand-validated', e => {\n      const { demandBuilderId } = (e as CustomEvent).detail;\n      this._demandBuilders.set(demandBuilderId, true);\n      // Check if review/submit buttons should be enabled\n      this._buttonsClickable = Array.from(this._demandBuilders.values()).every(\n        b => b === true\n      );\n    });\n\n    // Event indicating a demand builder has an invalid action form\n    this.addEventListener('demand-invalidated', e => {\n      const { demandBuilderId } = (e as CustomEvent).detail;\n      this._demandBuilders.set(demandBuilderId, false);\n      // Check if review/submit buttons should be disabled\n      this._buttonsClickable = Array.from(this._demandBuilders.values()).every(\n        b => b === true\n      );\n    });\n\n    // Unhide review and submit buttons when demand builder has passed the action menu\n    this.addEventListener('menu-done', () => {\n      this._showButtons = true;\n    });\n  }\n\n  static styles = css`\n    :host {\n      display: grid;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n        Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n      font-size: 16;\n      max-width: 1350px;\n      background-color: white;\n    }\n\n    :host button {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n        Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    }\n\n    #priv-req-ctr {\n      display: grid;\n      border: 2px solid #000;\n      border-radius: 20px;\n      padding: 30px;\n      margin: 0px 0px 30px 0px;\n    }\n\n    #new-dmd-ctr {\n      display: flex;\n      column-gap: 10px;\n      margin: 20px 0px 0px 0px;\n      padding: 20px;\n      border: 2px solid #000;\n      border-radius: 20px;\n      align-items: center;\n      justify-content: center;\n    }\n\n    #request-progress-indicator {\n      background-color: red;\n    }\n\n    #frequent-requests {\n      background-color: green;\n    }\n\n    #restart-btn {\n      background: #fafafa;\n      border: none;\n      width: fit-content;\n      height: fit-content;\n      text-decoration: underline;\n      margin: 20px 0px;\n    }\n\n    #req-sent-hdr {\n      padding: 40px 0px;\n    }\n\n    .req-hdr {\n      font-weight: bold;\n      font-size: 24px;\n      text-align: center;\n      padding-bottom: 20px;\n    }\n\n    .new-dmd-btn {\n      width: 20px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      text-align: center;\n    }\n\n    .nav-btn {\n      height: 50px;\n      background-color: #18a0fb;\n      border-width: 0px;\n      border-radius: 6px;\n      font-size: 18px;\n      color: #ffffff;\n      width: fit-content;\n      margin: 20px 0px -55px 0px;\n      padding: 0px 25px;\n    }\n\n    button:disabled {\n      /* background-color: #d9d9d9; */\n      background-color: #a9d1ff;\n    }\n\n    .ctr-btn {\n      justify-self: center;\n    }\n\n    .right-btn {\n      justify-self: flex-end;\n      margin: 20px 60px -55px 0px;\n    }\n\n    .demand-builder-next-btn {\n      grid-column: 2/3;\n      padding-bottom: -50px;\n      margin-bottom: -50px;\n    }\n\n    .ctr-txt {\n      text-align: center;\n    }\n  `;\n\n  handleSubmitClick() {\n    // Form privacy request\n    this._privacyRequest.demands = Array.from(this._demands.values()).map(\n      (d, i) => {\n        d.id = i.toString();\n        return d;\n      }\n    );\n\n    sendPrivacyRequest(this._privacyRequest, false).then(response => {\n      this._privacyResponse = response;\n    });\n    this._requestState = RequestState.SENT;\n  }\n\n  /**\n   * Switch request to the review state, causing all demand builders to switch\n   */\n  handleReviewClick() {\n    this._requestState = RequestState.REVIEW;\n  }\n\n  /**\n   * Reset most states\n   */\n  handleRestartClick() {\n    this._requestState = RequestState.BUILD;\n    this._privacyRequest = {\n      demands: [{ action: ACTION.TRANSPARENCY }],\n      data_subject: [\n        {\n          id: '4f04dbb4-d77d-49df-ae57-52aae9d6f3b5',\n          schema: 'dsid',\n        },\n      ],\n    };\n    this._demands = new Map<string, Demand>();\n    this._demandBuilders = new Map<string, boolean>([\n      [crypto.randomUUID(), false],\n    ]);\n    this._showButtons = false;\n    this._buttonsClickable = false;\n    this._privacyResponse = {\n      response_id: '',\n      request_id: '',\n      date: '',\n      demands: [],\n    };\n  }\n\n  // Hook into willUpdate lifecycle method to set the included actions state if a valid list of actions is passed as an attribute\n  protected willUpdate(\n    _changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>\n  ): void {\n    if (_changedProperties.has('actions') && this.actions) {\n      try {\n        const actionsList = (\n          Array.from(JSON.parse(this.actions)) as string[]\n        ).map(a => a.toLocaleLowerCase());\n        const validActionsList = getDefaultActions().filter(a =>\n          actionsList.includes(a.toLocaleLowerCase())\n        );\n        // If a valid list of actions has been passed, use it\n        if (validActionsList.length > 0) {\n          this._includedActions = validActionsList;\n        }\n      } catch {\n        this._includedActions = getDefaultActions();\n      }\n    }\n  }\n\n  render() {\n    return html`\n      <div id=\"priv-req-ctr\">\n        <div class=\"req-hdr\">${msg('My Privacy Request')}</div>\n        <request-progress-indicator></request-progress-indicator>\n\n        <!-- BUILD AND REVIEW STATE -->\n        ${when(\n          this._requestState === RequestState.BUILD ||\n            this._requestState === RequestState.REVIEW,\n          () => html`\n            ${map(\n              this._demandBuilders.entries(),\n              ([id]) => html`\n                <demand-builder\n                  id=${id}\n                  .includedActions=${this._includedActions}\n                  demand-state=${this._requestState === RequestState.REVIEW\n                    ? DemandState.REVIEW\n                    : DemandState.SELECT_ACTION}\n                ></demand-builder>\n              `\n            )}\n            ${when(\n              this._showButtons,\n              () => html`\n                ${choose(this._requestState, [\n                  [\n                    RequestState.BUILD,\n                    () => html`\n                      <!-- TODO: Uncomment this once multiple demands are supported -->\n                      <!-- <div id=\"new-dmd-ctr\">\n                  <p><strong>I want to add another demand</strong></p>\n                  <button id=\"new-dmd-btn\">+</button>\n                </div> -->\n                      <button\n                        class=\"nav-btn right-btn\"\n                        ?disabled=${!this._buttonsClickable}\n                        @click=${this.handleReviewClick}\n                      >\n                        ${msg('Continue to submit Privacy Request')}\n                      </button>\n                    `,\n                  ],\n                  [\n                    RequestState.REVIEW,\n                    () => html`\n                      <button\n                        class=\"nav-btn ctr-btn\"\n                        ?disabled=${!this._buttonsClickable}\n                        @click=${this.handleSubmitClick}\n                      >\n                        ${msg('Submit Privacy Request')}\n                      </button>\n                    `,\n                  ],\n                ])}\n              `\n            )}\n          `\n        )}\n\n        <!-- Sent state -->\n        ${when(\n          this._requestState === RequestState.SENT,\n          () => html`\n            <strong id=\"req-sent-hdr\" class=\"ctr-txt\"\n              >${msg('Your privacy request has been sent!')}</strong\n            >\n            <p class=\"ctr-txt\">${msg('You may view the response below.')}</p>\n            <button\n              id=\"restart-btn\"\n              class=\"ctr-txt ctr-btn\"\n              href=\"\"\n              @click=${this.handleRestartClick}\n            >\n              ${msg('Submit a new Privacy Request.')}\n            </button>\n          `\n        )}\n      </div>\n      ${when(\n        this._requestState === RequestState.SENT,\n        () => html`\n          <response-view .response=${this._privacyResponse}></response-view>\n        `\n      )}\n    `;\n  }\n}\n"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","ACTION","TRANSPARENCY_ACTION","enabledActions","Map","ACCESS","DELETE","MODIFY","OBJECT","PORTABILITY","RESTRICT","REVOKE","TRANSPARENCY","ACTION_TITLES","msg","ACTION_DESCRIPTIONS","RequestState","DemandState","ActionItem","LitElement","constructor","this","actionName","actionDescription","disabled","handleClick","event","CustomEvent","bubbles","composed","detail","dispatchEvent","render","html","styles","css","property","type","String","attribute","prototype","Boolean","customElement","localized","DemandBuilerActionMenu","prompt","includedActions","map","a","get","DemandBuilderDropdownElement","choices","open","_selectedChoices","Set","handleCheckboxClick","e","id","checked","add","size","delete","description","Array","reflect","DemandBuilderTextElement","handleInput","text","value","TransparencyForm","super","demandState","EDIT","transparencyActions","demands","demandBuilderId","_extraMessage","undefined","addEventListener","details","demandId","crypto","randomUUID","demand","action","message","set","setEvent","dmdValidEvent","from","filter","_","forEach","_a","getEditTemplate","selectedActions","values","includes","getReviewTemplate","choose","REVIEW","Number","DemandBuilderSidebarItem","title","DemandBuilder","SELECT_ACTION","_selectedAction","_sidebarSelectedIndex","indexOf","getSidebarTemplate","getSelectedFormTemplate","update","changedProperties","has","Event","firstUpdated","_changedProperties","when","state","RequestProgressIndicator","FrequentRequestsMenu","ResponseView","response","response_id","request_id","date","demand_id","requested_action","accessTemplate","deleteTemplate","modifyTemplate","objectTemplate","revokeTemplate","restrictTemplate","portabilityTemplate","transparencyStandardTemplate","status","JSON","stringify","answer","transparencyAllTemplate","transparencyDataCatTemplate","transparencyDpoTemplate","transparencyKnownTemplate","transparencyLegalTemplate","transparencyOrgTemplate","transparencyPolicyTemplate","transparencyProcessTemplate","transparencyProvTemplate","transparencyPurposeTemplate","transparencyRetentionTemplate","transparencyWhoTemplate","transparencyWhereTemplate","otherDemandTemplate","getMockHeader","request","getDefaultActions","BldnPrivRequest","actions","_includedActions","_requestState","BUILD","_privacyRequest","data_subject","schema","_demands","_demandBuilders","_showButtons","_buttonsClickable","_privacyResponse","every","b","handleSubmitClick","toString","async","mock","url","headers","Prefer","fetch","method","body","then","ok","Error","statusText","json","sendPrivacyRequest","SENT","handleReviewClick","handleRestartClick","willUpdate","actionsList","parse","toLocaleLowerCase","validActionsList","entries"],"mappings":"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"}